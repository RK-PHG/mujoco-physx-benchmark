<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/vassilis/Development/caplerleg/catkin_ws/src/caplerleg/caplerleg_description/urdf/robot/caplerleg.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- Description of the CaplerLeg robot with default configuration. -->
<robot name="caplerleg" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <material name="black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="light_grey">
    <color rgba="0.4 0.4 0.4 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <!--
    COMMON PARAMETERS
   -->
  <!--
    LINKS
   -->
  <!-- [rad] -->
  <!-- [m] -->
  <!-- World - defines a fixed base system -->
  <link name="world"/>
  <!-- Rail link -->
  <link name="RAIL">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.03 0.015 1.75"/>
      </geometry>
      <material name="black"/>
    </visual>
    <!--<collision>-->
      <!--<origin rpy="0 0 0" xyz="0 0 0"/>-->
      <!--<geometry>-->
        <!--<box size="0.03 0.015 1.75"/>-->
      <!--</geometry>-->
      <!--<material name="black"/>-->
    <!--</collision>-->
  </link>
  <!-- Rail joint -->
  <joint name="RXYZ" type="fixed">
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.88"/>
    <parent link="world"/>
    <child link="RAIL"/>
  </joint>
  <!--
      COMMON PARAMETERS
   -->
  <!-- Materials for the visual primitives -->
  <material name="caplerleg_link_visual_material">
    <color rgba="0.5 0.5 0.5 1.0"/>
  </material>
  <material name="caplerleg_link_collision_material">
    <color rgba="0.9 0.9 0.9 1.0"/>
  </material>
  <!--
      LINKS
   -->
  <!-- [rad] -->
  <!-- [rad] -->
  <!-- [m] -->
  <!-- [m] -->
  <!-- [rad] -->
  <!-- [rad] -->
  <!-- [rad] -->
  <!-- [rad] -->
  <!--
    JOINT PARAMETERS
  -->
  <!-- [N] -->
  <!-- [Nm] -->
  <!-- [Nm] -->
  <!-- [Nm] -->
  <!-- [Nm] -->
  <gazebo>
    <plugin filename="libcaplerleg_gazebo.so" name="caplerleg_gazebo">
      <robotNamespace>caplerleg</robotNamespace>
      <robotDescription>caplerleg_description</robotDescription>
      <robotBaseLink>BASE</robotBaseLink>
      <statePublisherRate>400.0</statePublisherRate>
    </plugin>
  </gazebo>
  <!-- Base-visual link -->
  <link name="BASE">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.09 0.015 0.17"/>
      </geometry>
      <material name="caplerleg_link_visual_material"/>
    </visual>
    <!-- TODO: get the part from CAD -->
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.09 0.015 0.17"/>
      </geometry>
      <material name="caplerleg_link_collision_material"/>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <mass value="1.0"/>
      <inertia ixx="1e-05" ixy="0.0" ixz="0.0" iyy="1e-05" iyz="0.0" izz="1e-05"/>
    </inertial>
  </link>
  <joint name="BH" type="prismatic">
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
    <axis xyz="0 0 1"/>
    <parent link="world"/>
    <child link="BASE"/>
    <limit effort="1000.0" lower="0.0" upper="3.0" velocity="100.0"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <!-- Hip link -->
  <link name="HIP">
    <visual>
      <!-- <origin xyz="0 0 0" rpy="0 ${PI*0.5} ${-PI*0.5}"/> -->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="hip.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="caplerleg_link_visual_material"/>
    </visual>
    <!--<collision>-->
      <!--<origin rpy="0 0 0" xyz="0.095 0.0 0"/>-->
      <!--<geometry>-->
        <!--<box size="0.13 0.07 0.12"/>-->
      <!--</geometry>-->
      <!--<material name="caplerleg_link_collision_material"/>-->
    <!--</collision>-->
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0136 0.0 0.0"/>
      <mass value="1.539"/>
      <inertia ixx="1e-05" ixy="0.0" ixz="0.0" iyy="1e-05" iyz="0.0" izz="1e-05"/>
    </inertial>
  </link>
  <!-- Hip joint -->
  <joint name="HAA" type="fixed">
    <origin rpy="0.0 0.0 0.0" xyz="0.01755 -0.005 0.0"/>
    <axis xyz="1 0 0"/>
    <parent link="BASE"/>
    <child link="HIP"/>
    <limit effort="100.0" lower="-6.28" upper="6.28" velocity="100.0"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <!-- Thigh link -->
  <link name="THIGH">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="thigh.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="caplerleg_link_visual_material"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.066 -0.11"/>
      <geometry>
        <box size="0.12 0.055 0.34"/>
      </geometry>
      <material name="caplerleg_link_collision_material"/>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0001 0.0547 -0.2061"/>
      <mass value="2.261"/>
      <inertia ixx="0.032833" ixy="0.0" ixz="0.0" iyy="0.032833" iyz="0.0" izz="0.032833"/>
    </inertial>
  </link>
  <!-- Thigh joint -->
  <joint name="HFE" type="revolute">
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
    <axis xyz="0 1 0"/>
    <parent link="HIP"/>
    <child link="THIGH"/>
    <limit effort="100" lower="-1.57079632679" upper="1.57079632679" velocity="100.0"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <!-- Shank link -->
  <link name="SHANK">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="shank.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="caplerleg_link_visual_material"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.0228 -0.125"/>
      <geometry>
        <cylinder length="0.25" radius="0.014"/>
      </geometry>
      <material name="caplerleg_link_collision_material"/>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0.007297066425 -0.007543552828 -0.141776136872"/>
      <mass value="0.1"/>
      <inertia ixx="0.0135" ixy="0.0" ixz="0.0" iyy="0.0135" iyz="0.0" izz="0.0135"/>
    </inertial>
  </link>
  <!-- Thigh lower/Shank upper joint -->
  <joint name="KFE" type="revolute">
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 -0.24"/>
    <axis xyz="0 1 0"/>
    <parent link="THIGH"/>
    <child link="SHANK"/>
    <limit effort="100" lower="-0.785398163397" upper="2.730727415" velocity="100.0"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <!-- Foot-mount link -->
  <link name="FOOT">
      <visual>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
          <cylinder length="0.03" radius="0.015"/>
        </geometry>
        <material name="caplerleg_link_visual_material"/>
      </visual>
      <!--<collision>-->
        <!--<origin rpy="0 0 0" xyz="0 0 0"/>-->
        <!--<geometry>-->
          <!--<cylinder length="0.03" radius="0.015"/>-->
        <!--</geometry>-->
        <!--<material name="caplerleg_link_collision_material"/>-->
      <!--</collision>-->
      <inertial>
        <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
        <mass value="0.15"/>
        <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>
      </inertial>
      <visual>
        <origin rpy="0 0 0" xyz="0 0 -0.015"/>
        <geometry>
          <sphere radius="0.017"/>
        </geometry>
        <material name="caplerleg_link_visual_material"/>
      </visual>
      <collision>
        <origin rpy="0 0 0" xyz="0 0 -0.015"/>
        <geometry>
          <sphere radius="0.032"/>
        </geometry>
        <material name="caplerleg_link_collision_material"/>
      </collision>
  </link>
  <!-- Foot-mount joint to shank -->
  <joint name="SHANK_TO_FOOT" type="fixed">
    <origin rpy="0.0 0.0 0.0" xyz="0.0 -0.0228 -0.236"/>
    <parent link="SHANK"/>
    <child link="FOOT"/>
  </joint>
  <!-- Gazebo simulation customization -->
  <gazebo reference="FOOT_CONTACT">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <gazebo reference="SENSOR_TO_FOOT"/>
  <!-- Xsens Mti -->
  <!-- <xacro:xsens_mti
    name="IMU"
    parent="BASE"
    update_rate="400"
    ns="sensors"
    frame_id="/imu_link"
    topic_name="imu">
    <origin xyz="${B_r_BImu_x} ${B_r_BImu_y} ${B_r_BImu_z}"
            rpy="${phi_BImu} ${theta_BImu} ${psi_BImu}"/>
  </xacro:xsens_mti> -->
</robot>
